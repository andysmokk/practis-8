{"version":3,"sources":["gallery.js","index.js"],"names":["galleryItems","preview","original","description","refs","gallery","document","querySelector","lightbox","lightboxImg","activeImg","createGallery","images","map","onOpenModalClick","e","preventDefault","target","nodeName","classList","add","src","dataset","source","forEach","el","idx","includes","window","addEventListener","closeModalEsc","changeImgArrow","onCloseModalClick","remove","removeEventListener","code","key","length","alert","insertAdjacentHTML","join"],"mappings":";AAAO,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,kBAAA,EAAA,MAAMA,EAAe,CAC1B,CACEC,QACE,uFACFC,SACE,uFACFC,YAAa,mBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,6BAEf,CACEF,QACE,wEACFC,SACE,wEACFC,YAAa,qBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,iBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa,yBA9DV,QAAA,aAAA;;ACkHP,aAlHA,IAAA,EAAA,QAAA,aAEA,MAAMC,EAAO,CACXC,QAASC,SAASC,cAAc,eAChCC,SAAUF,SAASC,cAAc,gBACjCE,YAAaH,SAASC,cAAc,qBAGtC,IAAIG,EAAY,KAIhB,SAASC,EAAcC,GACdA,OAAAA,EAAOC,IAAI,EAAGZ,QAAAA,EAASC,SAAAA,EAAUC,YAAAA,+EAI9BD,+DAICD,0BACQC,kBACRC,6BASb,SAASW,EAAiBC,GACxBA,EAAEC,iBAEwB,QAAtBD,EAAEE,OAAOC,WAIbd,EAAKI,SAASW,UAAUC,IAAI,WAC5BhB,EAAKK,YAAYY,IAAMN,EAAEE,OAAOK,QAAQC,OAExCZ,EAAcX,EAAD,cAAewB,QAAQ,CAACC,EAAIC,KACnCD,EAAGE,SAASZ,EAAEE,OAAOI,OACvBX,EAAYgB,KAIhBE,OAAOC,iBAAiB,UAAWC,GACnCF,OAAOC,iBAAiB,UAAWE,IAIrC,SAASC,EAAkBjB,GACC,QAAtBA,EAAEE,OAAOC,WAIbd,EAAKI,SAASW,UAAUc,OAAO,WAC/B7B,EAAKK,YAAYY,IAAM,GAEvBO,OAAOM,oBAAoB,UAAWJ,GACtCF,OAAOM,oBAAoB,UAAWH,IAGxC,SAASD,EAAcf,GACN,WAAXA,EAAEoB,MAGNH,EAAkBjB,GAGpB,SAASgB,GAAe,IAAEK,IAChBA,OAAAA,GACDpC,KAAAA,EAAaqC,aAAAA,OAAS,EAAI3B,GAAa,aAC1CA,GAAa,EACbN,EAAKK,YAAYY,IAAMrB,EAAaU,aAAAA,GAAWR,SAC/C,MACGQ,KAAAA,EAAY,GAAK,YACpBA,GAAa,EACbN,EAAKK,YAAYY,IAAMrB,EAAaU,aAAAA,GAAWR,SAC/C,MACGQ,KAAAA,IAAcV,EAAaqC,aAAAA,OAAS,GAAK,aAC5C3B,EAAY,EACZN,EAAKK,YAAYY,IAAMrB,EAAaU,aAAAA,GAAWR,SAC/C,MACGQ,KAAc,IAAdA,GAAmB,YACtBA,EAAYV,EAAaqC,aAAAA,OAAS,EAClCjC,EAAKK,YAAYY,IAAMrB,EAAaU,aAAAA,GAAWR,SAC/C,MACF,QACEoC,MAAM,wBAjFZ3B,EAAcX,EAAD,cAoBbI,EAAKC,QAAQkC,mBAAmB,YAAa5B,EAAcX,EAAD,cAAewC,KAAK,KAC9EpC,EAAKC,QAAQwB,iBAAiB,QAASf,GAqBvCV,EAAKI,SAASqB,iBAAiB,QAASG","file":"src.11a5c8da.js","sourceRoot":"../src","sourcesContent":["export const galleryItems = [\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\n    description: 'Hokkaido Flower',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n    description: 'Container Haulage Freight',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n    description: 'Aerial Beach View',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n    description: 'Flower Blooms',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n    description: 'Alpine Mountains',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n    description: 'Mountain Lake Sailing',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n    description: 'Alpine Spring Meadows',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n    description: 'Nature Landscape',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n    description: 'Lighthouse Coast Sea',\n  },\n];","import { galleryItems } from './gallery';\n\nconst refs = {\n  gallery: document.querySelector('.js-gallery'),\n  lightbox: document.querySelector('.js-lightbox'),\n  lightboxImg: document.querySelector('.lightbox__image'),\n};\n\nlet activeImg = null;\n\ncreateGallery(galleryItems);\n\nfunction createGallery(images) {\n  return images.map(({ preview, original, description }) => {\n    return `<li class=\"gallery__item\">\n  <a\n    class=\"gallery__link\"\n    href=\"${original}\"\n  >\n    <img\n      class=\"gallery__image\"\n      src=\"${preview}\"\n      data-source=\"${original}\"\n      alt=\"${description}\"\n    />\n  </a>\n</li>`;\n  });\n}\n\nrefs.gallery.insertAdjacentHTML('beforeend', createGallery(galleryItems).join(''));\nrefs.gallery.addEventListener('click', onOpenModalClick);\nfunction onOpenModalClick(e) {\n  e.preventDefault();\n\n  if (e.target.nodeName !== 'IMG') {\n    return;\n  }\n\n  refs.lightbox.classList.add('is-open');\n  refs.lightboxImg.src = e.target.dataset.source;\n\n  createGallery(galleryItems).forEach((el, idx) => {\n    if (el.includes(e.target.src)) {\n      activeImg = idx;\n    }\n  });\n\n  window.addEventListener('keydown', closeModalEsc);\n  window.addEventListener('keydown', changeImgArrow);\n}\n\nrefs.lightbox.addEventListener('click', onCloseModalClick);\nfunction onCloseModalClick(e) {\n  if (e.target.nodeName === 'IMG') {\n    return;\n  }\n\n  refs.lightbox.classList.remove('is-open');\n  refs.lightboxImg.src = '';\n\n  window.removeEventListener('keydown', closeModalEsc);\n  window.removeEventListener('keydown', changeImgArrow);\n}\n\nfunction closeModalEsc(e) {\n  if (e.code !== 'Escape') {\n    return;\n  }\n  onCloseModalClick(e);\n}\n\nfunction changeImgArrow({ key }) {\n  switch (key) {\n    case galleryItems.length - 1 > activeImg && 'ArrowRight':\n      activeImg += 1;\n      refs.lightboxImg.src = galleryItems[activeImg].original;\n      break;\n    case activeImg > 0 && 'ArrowLeft':\n      activeImg -= 1;\n      refs.lightboxImg.src = galleryItems[activeImg].original;\n      break;\n    case activeImg === galleryItems.length - 1 && 'ArrowRight':\n      activeImg = 0;\n      refs.lightboxImg.src = galleryItems[activeImg].original;\n      break;\n    case activeImg === 0 && 'ArrowLeft':\n      activeImg = galleryItems.length - 1;\n      refs.lightboxImg.src = galleryItems[activeImg].original;\n      break;\n    default:\n      alert('что-то пошло не так');\n  }\n}\n\n// function changeImgArrow(e) {\n//   if (e.code === 'ArrowRight' && activeImg < galleryItems.length - 1) {\n//     refs.lightboxImg.src = galleryItems[(activeImg += 1)].original;\n//     return;\n//   }\n//   if (e.code === 'ArrowLeft' && activeImg > 0) {\n//     refs.lightboxImg.src = galleryItems[(activeImg -= 1)].original;\n//     return;\n//   }\n//   if (e.code === 'ArrowRight' && activeImg === galleryItems.length - 1) {\n//     activeImg = 0;\n//     refs.lightboxImg.src = galleryItems[activeImg].original;\n//     return;\n//   }\n//   if (e.code === 'ArrowLeft' && activeImg === 0) {\n//     activeImg = galleryItems.length - 1;\n//     refs.lightboxImg.src = galleryItems[activeImg].original;\n//     return;\n//   }\n// }\n"]}